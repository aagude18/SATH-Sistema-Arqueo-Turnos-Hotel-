{% extends "layout.html" %}

{% block content %}
{% with messages = get_flashed_messages() %}
  {% if messages %}
    <ul>
      {% for message in messages %}
        <li style="color: red;">{{ message }}</li>
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}
<style>
    body {
      /*background-color: rgb(206, 226, 222);*/
      background-size: cover;
      background-image: url("/static/imgs/bamboo.jpg");
    }
</style>
    <!--PRIMER CONTAINER-->
    <div class="container">
        <div class="card shadow">
            <div class="card-body">
                <h1 class="text-center text-primary" > Inventario de Productos</h1> 
                <div class="row mb-3"><h4 style="text-align: center;">Consulta Productos </h4></div>
                <!-- Tabla de resultados -->
                <form action="/tienda" method="GET" id="tienda">
                    <div class="row mb-3">
                        <div class="col">
                            <label>Categoría del producto</label>
                            <input type="text" class="form-control mb-3" name="Categoria" placeholder="Ingrese la categoría del producto">
                        </div>
                        <div class="col">
                            <button class="btn btn-primary mb-3 mt-4" type="submit">Buscar <i class="fa fa-search"></i></button>
                        </div>
                    </div>
                </form>
                  <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th scope="col">Id</th>
                                <th scope="col">Nombre</th>
                                <th scope="col">Descripción</th>
                                <th scope="col">Precio</th>
                                <th scope="col">Categoría</th>
                                <!--th scope="col">Edit</th>
                                <th scope="col">Delete</th-->
                            </tr>
                        </thead>
                        <tbody>
                        {% if data_tienda %}
                            {% for d in data_tienda %}
                                <tr>
                                    <td>{{d[0]}}</td>
                                    <td>{{d[1]}}</td>
                                    <td>{{d[2]}}</td>
                                    <td>{{d[3]}}</td>
                                    <td>{{d[4]}}</td>
                                    <!--td><button class="btn btn-primary" type="button" data-bs-toggle="modal" data-bs-target="#modal{{d[0]}}">Edit </button></td>
                                    <td><a href="{{url_for('delete_arqueos',id=d[0])}}" class="btn btn-danger btn-sm">Delete</a></td-->
                                </tr>
                            {% endfor %}
                        {% else %}
                            <tr>
                                <td colspan="10" class="text-center">No se encontraron resultados</td>
                            </tr>
                        {% endif %}
                        </tbody>
                </table>                      
            </div>
        </div>
    </div>            

    <!--FIN PRIMER CONTAINER-->

    <div class="container-fluid py-4 px-sm-3 px-md-5">
        <p class="m-0 text-center">
        &copy; <a class="font-weight-semi-bold" href="#">www.kernelsystemsas.com</a>. All Rights Reserved. Designed by
        <a class="font-weight-semi-bold" href="#">Kernel System</a>
        </p>
    </div>
    <!-- JavaScript de Bootstrap y jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="{{ url_for('static', filename ='js/material.min.js') }}">

<script type="text/javascript">

function convertSelection() {
            const selectElement = document.getElementById('selectElement');
            const inputElement = document.getElementById('inputElement');
            inputElement.value = selectElement.value;
        }
        
</script>
<script>

    document.getElementById("myButton").addEventListener("click", function(event) {
        // Prevenir el envío del formulario
        event.preventDefault();
        
        // Mostrar la alerta
        alert("Para confirmar la apertura del turno. Haga clic en aceptar.");
        
        // Después de que el usuario hace clic en OK, enviar el formulario
        document.getElementById("myForm").submit();

    });
</script>
{% endblock%}